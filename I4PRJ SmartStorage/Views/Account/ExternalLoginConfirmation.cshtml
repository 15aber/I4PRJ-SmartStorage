@using I4PRJ_SmartStorage.Models
@model I4PRJ_SmartStorage.Models.ExternalLoginConfirmationViewModel
@{
  ViewBag.Title = "Register";
  Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="wrapper wrapper-content animated fadeInRight">
  <div class="row">
    <div class="col-lg-6 col-lg-offset-3">
      <div class="ibox">
        <div class="ibox-title">
          <h5>Create a new account</h5>
        </div>
        <div class="ibox-content">

          @using(Html.BeginForm("ExternalLoginConfirmation", "Account", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "wizard-big", role = "form", id = "form" }))
          {
            @Html.ValidationSummary("", new { @class = "text-danger" })
            @Html.AntiForgeryToken()

            <h3>Account</h3>
            <fieldset>
              <h2>Account Information</h2>
              <div class="row">
                <div class="col-lg-9">
                  <div class="form-group">
                    @Html.LabelFor(m => m.Username, new { @class = "control-label" })
                    @Html.TextBoxFor(m => m.Username, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.Username, "", new { @class = "text-danger" })
                  </div>
                  <div class="form-group">
                    @Html.LabelFor(m => m.ProfilePicture, new { @class = "control-label" })
                    @Html.TextBoxFor(m => m.ProfilePicture, new { @class = "form-control", @readonly = "readonly" })
                    @Html.ValidationMessageFor(m => m.ProfilePicture, "", new { @class = "text-danger" })
                  </div>
                </div>
                <div class="col-lg-3">
                  <div class="text-center">
                    <div style="margin-top: 20px">
                      <i class="fa fa-sign-in" style="font-size: 180px; color: #e5e5e5"></i>
                    </div>
                  </div>
                </div>
              </div>
            </fieldset>

            <h3>Profile</h3>
            <fieldset>
              <h2>Profile Information</h2>
              <div class="row">
                <div class="col-lg-9">
                  <div class="form-group">
                    @Html.LabelFor(m => m.Firstname, new { @class = "control-label" })
                    @Html.TextBoxFor(m => m.Firstname, new { @class = "form-control", @readonly = "readonly" })
                    @Html.ValidationMessageFor(m => m.Firstname, "", new { @class = "text-danger" })
                  </div>
                  <div class="form-group">
                    @Html.LabelFor(m => m.Middlename, new { @class = "control-label" })
                    @Html.TextBoxFor(m => m.Middlename, new { @class = "form-control", @readonly = "readonly" })
                    @Html.ValidationMessageFor(m => m.Middlename, "", new { @class = "text-danger" })
                  </div>
                  <div class="form-group">
                    @Html.LabelFor(m => m.Lastname, new { @class = "control-label" })
                    @Html.TextBoxFor(m => m.Lastname, new { @class = "form-control", @readonly = "readonly" })
                    @Html.ValidationMessageFor(m => m.Lastname, "", new { @class = "text-danger" })
                  </div>
                </div>
                <div class="col-lg-3">
                  <div class="text-center">
                    <div style="margin-top: 20px">
                      <i class="fa fa-user" style="font-size: 180px; color: #e5e5e5"></i>
                    </div>
                  </div>
                </div>
              </div>
            </fieldset>

            <h3>Contact</h3>
            <fieldset>
              <h2>Contact Information</h2>
              <div class="row">
                <div class="col-lg-9">
                  <div class="form-group">
                    @Html.LabelFor(m => m.PhoneNumber, new { @class = "control-label" })
                    @Html.TextBoxFor(m => m.PhoneNumber, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.PhoneNumber, "", new { @class = "text-danger" })
                  </div>
                  <div class="form-group">
                    @Html.LabelFor(m => m.Email, new { @class = "control-label" })
                    @Html.TextBoxFor(m => m.Email, new { @class = "form-control", @readonly = "readonly" })
                    @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger" })
                  </div>
                </div>
                <div class="col-lg-3">
                  <div class="text-center">
                    <div style="margin-top: 20px">
                      <i class="fa fa-address-card" style="font-size: 180px; color: #e5e5e5"></i>
                    </div>
                  </div>
                </div>
              </div>
            </fieldset>
          }
        </div>
      </div>
    </div>
  </div>
</div>

@section Scripts {
  @Scripts.Render("~/bundles/validate")

  <script type="text/javascript">
    $("#form")
      .steps({
        headerTag: "h3",
        bodyTag: "fieldset",
        autoFocus: true,
        labels: {
          finish: "Verify"
        },
        onStepChanging: function (event, currentIndex, newIndex) {
          if (currentIndex > newIndex) {
            return true;
          }

          var form = $(this);

          if (currentIndex < newIndex) {
            $(".body:eq(" + newIndex + ") label.error", form).remove();
            $(".body:eq(" + newIndex + ") .error", form).removeClass("error");
          }

          return form.valid();

        },
        onFinishing: function (event, currentIndex) {
          var form = $(this);

          return form.valid();
        },
        onFinished: function (event, currentIndex) {
          var form = $(this);

          form.submit();
        }
      });

  </script>
}